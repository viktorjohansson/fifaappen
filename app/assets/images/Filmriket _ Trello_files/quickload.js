!function(){var e,a={};a.exports=e={},e.boardFieldsMinimal=["name","closed","dateLastActivity","dateLastView","idOrganization","prefs","shortLink","shortUrl","url"].join(","),e.boardFieldsFull=[e.boardFieldsMinimal,"desc","descData","invitations","invited","labelNames","memberships","pinned","powerUps","subscribed"].join(","),e.boardFieldsMinimalSubscribed=[e.boardFieldsMinimal,"subscribed"].join(","),e.memberFields=["fullName","initials","memberType","username","avatarHash","bio","bioData","confirmed","products","url"].join(","),e.memberFieldsStatus=[e.memberFields,"status"].join(","),e.memberFieldsAndPremOrgsAdmin=[e.memberFields,"idPremOrgsAdmin"].join(","),e.organizationFieldsMinimal=["name","displayName","products","prefs","logoHash"].join(","),e.cardFieldsBulk=["badges","closed","dateLastActivity","desc","descData","due","idAttachmentCover","idList","idBoard","idMembers","idShort","idLabels","name","pos","shortUrl","shortLink","subscribed","url"].join(","),e.boardFieldsInOrganization=[e.boardFieldsMinimal,"idTags"].join(","),e.organizationBoardsFields=[e.organizationFieldsMinimal,"desc","descData","website"].join(","),e.cardActions=["addAttachmentToCard","addChecklistToCard","addMemberToCard","commentCard","copyCommentCard","convertToCardFromCheckItem","createCard","copyCard","deleteAttachmentFromCard","emailCard","moveCardFromBoard","moveCardToBoard","removeChecklistFromCard","removeMemberFromCard","updateCard:idList","updateCard:closed","updateCheckItemStateOnCard"].join(","),e.boardActions=[e.cardActions,"addMemberToBoard","addToOrganizationBoard","copyBoard","createBoard","createList","deleteCard","disablePlugin","disablePowerUp","enablePlugin","enablePowerUp","makeAdminOfBoard","makeNormalMemberOfBoard","makeObserverOfBoard","moveListFromBoard","moveListToBoard","removeFromOrganizationBoard","unconfirmedBoardInvitation","unconfirmedOrganizationInvitation","updateBoard","updateList:closed"].join(","),e.card={fields:"all",stickers:!0,attachments:!0},e.currentBoardMinimal={lists:"all",cards:"visible",card_attachments:"cover",card_stickers:!0,card_fields:[e.cardFieldsBulk,"labels"].join(","),card_checklists:"none",members:"all",member_fields:e.memberFieldsStatus,membersInvited:"all",membersInvited_fields:e.memberFields,checklists:"none",organization:!0,organization_fields:"name,displayName,desc,descData,url,website,prefs,memberships,logoHash,products",myPrefs:!0,fields:e.boardFieldsFull},e.currentBoardSecondary={fields:"",actions:e.boardActions,actions_display:!0,actions_limit:50,action_memberCreator_fields:e.memberFieldsAndPremOrgsAdmin,checklists:"none",cards:"visible",card_attachments:!0,card_fields:"",card_checklists:"all",labels:"all",labels_limit:1e3,organization:!0,organization_fields:"",organization_pluginData:!0,boardPlugins:!0,pluginData:!0},e.memberBoards={boards:"open,starred",board_fields:e.boardFieldsMinimalSubscribed,boardStars:!0,boardsInvited:"all",boardsInvited_fields:e.boardFieldsMinimalSubscribed,board_organization:!0,board_organization_fields:e.organizationFieldsMinimal,credits:"invitation,promoCode",organizations:"all",organization_fields:e.organizationFieldsMinimal,organizationsInvited:"all",organizationsInvited_fields:e.organizationFieldsMinimal,paid_account:!0},e.memberHeader={channels:!0,notifications:"all",notifications_limit:5,notifications_display:!0,notification_memberCreator_fields:e.memberFields,organizations:"all",organization_paid_account:!0,organization_fields:"name,displayName",paid_account:!0,savedSearches:!0},e.organizationBoardsPage={boards:"open",board_fields:e.boardFieldsInOrganization,board_starCounts:"organization",board_membershipCounts:"active",fields:e.organizationBoardsFields,paid_account:!0,memberships:"active",members:"all",tags:!0};var r,i,o,n,t,d,s,l;t=function(e){var a;try{return window.JSON.parse(e)}catch(r){return a=r,null}},r=function(e,a){var r;r=new XMLHttpRequest,r.open("GET",e,!0),r.setRequestHeader("Accept","application/json,text/plain"),r.onreadystatechange=function(){4===r.readyState&&(200!==r.status?a([r.status,r.responseText]):a(null,[t(r.responseText),r]))},r.send(null)},n=function(e,a){var r,i,o,n,t,d,s;for(null==a&&(a={}),r=[],i=/invite-token-[-a-f0-9]*=([^;]+)/g;null!=(d=null!=(t=i.exec(document.cookie))?t[1]:void 0);)r.push(unescape(d));return r.length>0&&(a.invitationTokens=r.join(",")),n=function(){var e;e=[];for(o in a)s=a[o],e.push([o,encodeURIComponent(s)].join("="));return e}().join("&"),[e,n].join("?")},s={},d=location.pathname.substr(1),o=location.hash,o=/^#[^\/]+/.test(o)?"/"+o.substr(1).replace(/^[\\\/\.]+/g,""):null,i=function(e){var a;return null!=(a=/^b\/([^\/]+)/.exec(e))?a[1]:null!=(a=/^board\/[^\/]+\/([^\/]+)/.exec(e))?a[1]:null},l={init:function(){l.verifyPushState()&&(l.preloads={},/token/.test(document.cookie)&&(l.preload(n("/1/Members/me",e.memberHeader)),l.preload(l.getDataUrl()),l.preload(l.getSecondaryDataUrl())))},verifyPushState:function(){var e;return e=window.history&&window.history.pushState&&!/android(\s)*[3-4]\.[0-1][^0-9]/i.test(navigator.userAgent),o&&e?(location.replace(o),!1):d.length>1&&!e?(location.replace("/#"+d),!1):!0},getDataUrl:function(){var a,r;return o&&(d=o),""===d?n("/1/Members/me",e.memberBoards):null!=(a=i(d))?l.getBoardDataUrl(a):(r=/^c\/([^\/]+)/.exec(d))?l.getCardDataUrl(r[1]):(r=/^([^\/]+)$/.exec(d))?l.getOrgBoardsDataUrl(r[1]):!1},getSecondaryDataUrl:function(){var e;return null!=(e=i(d))?l.getBoardSecondaryDataUrl(e):!1},getBoardDataUrl:function(a){return n("/1/Boards/"+a,e.currentBoardMinimal)},getBoardSecondaryDataUrl:function(a){return n("/1/Boards/"+a,e.currentBoardSecondary)},getCardDataUrl:function(a){return n("/1/Cards/"+a,e.card)},getOrgBoardsDataUrl:function(a){return n("/1/Organizations/"+a,e.organizationBoardsPage)},preload:function(e){var a;e&&(a={isLoading:!0,callbacks:[],start:Date.now(),used:!1,url:e},l.preloads[e]=a,r(e,function(r,i){var o,n,t,d,s,c,m;if(a.isLoading=!1,r)for(a.error=r,c=a.callbacks,n=0,d=c.length;d>n;n++)(o=c[n])(r);else{for(a.data=i,m=a.callbacks,t=0,s=m.length;s>t;t++)(o=m[t])(null,i);setTimeout(function(){return l.removePreload(e)},1e4)}}))},removePreload:function(e){var a,r,i,o;if(e in l.preloads){for(o=l.removeFns,r=0,i=o.length;i>r;r++)(a=o[r])(l._cleanPreload(l.preloads[e]));return delete l.preloads[e]}},_cleanPreload:function(e){var a,r,i,o,n;for(a={},n=["isLoading","start","used","url"],r=0,o=n.length;o>r;r++)i=n[r],a[i]=e[i];return a},removeFns:[],onRemove:function(e){return l.removeFns.push(e)},load:function(e,a){var i;return i=l.preloads[e],null!=i?(i.used=!0,i.isLoading?i.callbacks.push(a):(a(i.error,i.data),l.removePreload(e)),l._cleanPreload(i)):void r(e,a)}},l.init(),a.exports=window.QuickLoad=l}();